{"ast":null,"code":"/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar _t = function t(r, e) {\n  return (_t = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (t, r) {\n    t.__proto__ = r;\n  } || function (t, r) {\n    for (var e in r) {\n      Object.prototype.hasOwnProperty.call(r, e) && (t[e] = r[e]);\n    }\n  })(r, e);\n};\n\nfunction r(r, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Class extends value \" + String(e) + \" is not a constructor or null\");\n\n  function i() {\n    this.constructor = r;\n  }\n\n  _t(r, e), r.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i());\n}\n\nfunction e(t) {\n  var r = \"\";\n  Array.isArray(t) || (t = [t]);\n\n  for (var e = 0; e < t.length; e++) {\n    var i = t[e];\n    if (i.type === _.CLOSE_PATH) r += \"z\";else if (i.type === _.HORIZ_LINE_TO) r += (i.relative ? \"h\" : \"H\") + i.x;else if (i.type === _.VERT_LINE_TO) r += (i.relative ? \"v\" : \"V\") + i.y;else if (i.type === _.MOVE_TO) r += (i.relative ? \"m\" : \"M\") + i.x + \" \" + i.y;else if (i.type === _.LINE_TO) r += (i.relative ? \"l\" : \"L\") + i.x + \" \" + i.y;else if (i.type === _.CURVE_TO) r += (i.relative ? \"c\" : \"C\") + i.x1 + \" \" + i.y1 + \" \" + i.x2 + \" \" + i.y2 + \" \" + i.x + \" \" + i.y;else if (i.type === _.SMOOTH_CURVE_TO) r += (i.relative ? \"s\" : \"S\") + i.x2 + \" \" + i.y2 + \" \" + i.x + \" \" + i.y;else if (i.type === _.QUAD_TO) r += (i.relative ? \"q\" : \"Q\") + i.x1 + \" \" + i.y1 + \" \" + i.x + \" \" + i.y;else if (i.type === _.SMOOTH_QUAD_TO) r += (i.relative ? \"t\" : \"T\") + i.x + \" \" + i.y;else {\n      if (i.type !== _.ARC) throw new Error('Unexpected command type \"' + i.type + '\" at index ' + e + \".\");\n      r += (i.relative ? \"a\" : \"A\") + i.rX + \" \" + i.rY + \" \" + i.xRot + \" \" + +i.lArcFlag + \" \" + +i.sweepFlag + \" \" + i.x + \" \" + i.y;\n    }\n  }\n\n  return r;\n}\n\nfunction i(t, r) {\n  var e = t[0],\n      i = t[1];\n  return [e * Math.cos(r) - i * Math.sin(r), e * Math.sin(r) + i * Math.cos(r)];\n}\n\nfunction a() {\n  for (var t = [], r = 0; r < arguments.length; r++) {\n    t[r] = arguments[r];\n  }\n\n  for (var e = 0; e < t.length; e++) {\n    if (\"number\" != typeof t[e]) throw new Error(\"assertNumbers arguments[\" + e + \"] is not a number. \" + typeof t[e] + \" == typeof \" + t[e]);\n  }\n\n  return !0;\n}\n\nvar n = Math.PI;\n\nfunction o(t, r, e) {\n  t.lArcFlag = 0 === t.lArcFlag ? 0 : 1, t.sweepFlag = 0 === t.sweepFlag ? 0 : 1;\n  var a = t.rX,\n      o = t.rY,\n      s = t.x,\n      u = t.y;\n  a = Math.abs(t.rX), o = Math.abs(t.rY);\n  var h = i([(r - s) / 2, (e - u) / 2], -t.xRot / 180 * n),\n      c = h[0],\n      y = h[1],\n      p = Math.pow(c, 2) / Math.pow(a, 2) + Math.pow(y, 2) / Math.pow(o, 2);\n  1 < p && (a *= Math.sqrt(p), o *= Math.sqrt(p)), t.rX = a, t.rY = o;\n  var m = Math.pow(a, 2) * Math.pow(y, 2) + Math.pow(o, 2) * Math.pow(c, 2),\n      O = (t.lArcFlag !== t.sweepFlag ? 1 : -1) * Math.sqrt(Math.max(0, (Math.pow(a, 2) * Math.pow(o, 2) - m) / m)),\n      l = a * y / o * O,\n      T = -o * c / a * O,\n      v = i([l, T], t.xRot / 180 * n);\n  t.cX = v[0] + (r + s) / 2, t.cY = v[1] + (e + u) / 2, t.phi1 = Math.atan2((y - T) / o, (c - l) / a), t.phi2 = Math.atan2((-y - T) / o, (-c - l) / a), 0 === t.sweepFlag && t.phi2 > t.phi1 && (t.phi2 -= 2 * n), 1 === t.sweepFlag && t.phi2 < t.phi1 && (t.phi2 += 2 * n), t.phi1 *= 180 / n, t.phi2 *= 180 / n;\n}\n\nfunction s(t, r, e) {\n  a(t, r, e);\n  var i = t * t + r * r - e * e;\n  if (0 > i) return [];\n  if (0 === i) return [[t * e / (t * t + r * r), r * e / (t * t + r * r)]];\n  var n = Math.sqrt(i);\n  return [[(t * e + r * n) / (t * t + r * r), (r * e - t * n) / (t * t + r * r)], [(t * e - r * n) / (t * t + r * r), (r * e + t * n) / (t * t + r * r)]];\n}\n\nvar u,\n    h = Math.PI / 180;\n\nfunction c(t, r, e) {\n  return (1 - e) * t + e * r;\n}\n\nfunction y(t, r, e, i) {\n  return t + Math.cos(i / 180 * n) * r + Math.sin(i / 180 * n) * e;\n}\n\nfunction p(t, r, e, i) {\n  var a = 1e-6,\n      n = r - t,\n      o = e - r,\n      s = 3 * n + 3 * (i - e) - 6 * o,\n      u = 6 * (o - n),\n      h = 3 * n;\n  return Math.abs(s) < a ? [-h / u] : function (t, r, e) {\n    void 0 === e && (e = 1e-6);\n    var i = t * t / 4 - r;\n    if (i < -e) return [];\n    if (i <= e) return [-t / 2];\n    var a = Math.sqrt(i);\n    return [-t / 2 - a, -t / 2 + a];\n  }(u / s, h / s, a);\n}\n\nfunction m(t, r, e, i, a) {\n  var n = 1 - a;\n  return t * (n * n * n) + r * (3 * n * n * a) + e * (3 * n * a * a) + i * (a * a * a);\n}\n\n!function (t) {\n  function r() {\n    return u(function (t, r, e) {\n      return t.relative && (void 0 !== t.x1 && (t.x1 += r), void 0 !== t.y1 && (t.y1 += e), void 0 !== t.x2 && (t.x2 += r), void 0 !== t.y2 && (t.y2 += e), void 0 !== t.x && (t.x += r), void 0 !== t.y && (t.y += e), t.relative = !1), t;\n    });\n  }\n\n  function e() {\n    var t = NaN,\n        r = NaN,\n        e = NaN,\n        i = NaN;\n    return u(function (a, n, o) {\n      return a.type & _.SMOOTH_CURVE_TO && (a.type = _.CURVE_TO, t = isNaN(t) ? n : t, r = isNaN(r) ? o : r, a.x1 = a.relative ? n - t : 2 * n - t, a.y1 = a.relative ? o - r : 2 * o - r), a.type & _.CURVE_TO ? (t = a.relative ? n + a.x2 : a.x2, r = a.relative ? o + a.y2 : a.y2) : (t = NaN, r = NaN), a.type & _.SMOOTH_QUAD_TO && (a.type = _.QUAD_TO, e = isNaN(e) ? n : e, i = isNaN(i) ? o : i, a.x1 = a.relative ? n - e : 2 * n - e, a.y1 = a.relative ? o - i : 2 * o - i), a.type & _.QUAD_TO ? (e = a.relative ? n + a.x1 : a.x1, i = a.relative ? o + a.y1 : a.y1) : (e = NaN, i = NaN), a;\n    });\n  }\n\n  function n() {\n    var t = NaN,\n        r = NaN;\n    return u(function (e, i, a) {\n      if (e.type & _.SMOOTH_QUAD_TO && (e.type = _.QUAD_TO, t = isNaN(t) ? i : t, r = isNaN(r) ? a : r, e.x1 = e.relative ? i - t : 2 * i - t, e.y1 = e.relative ? a - r : 2 * a - r), e.type & _.QUAD_TO) {\n        t = e.relative ? i + e.x1 : e.x1, r = e.relative ? a + e.y1 : e.y1;\n        var n = e.x1,\n            o = e.y1;\n        e.type = _.CURVE_TO, e.x1 = ((e.relative ? 0 : i) + 2 * n) / 3, e.y1 = ((e.relative ? 0 : a) + 2 * o) / 3, e.x2 = (e.x + 2 * n) / 3, e.y2 = (e.y + 2 * o) / 3;\n      } else t = NaN, r = NaN;\n\n      return e;\n    });\n  }\n\n  function u(t) {\n    var r = 0,\n        e = 0,\n        i = NaN,\n        a = NaN;\n    return function (n) {\n      if (isNaN(i) && !(n.type & _.MOVE_TO)) throw new Error(\"path must start with moveto\");\n      var o = t(n, r, e, i, a);\n      return n.type & _.CLOSE_PATH && (r = i, e = a), void 0 !== n.x && (r = n.relative ? r + n.x : n.x), void 0 !== n.y && (e = n.relative ? e + n.y : n.y), n.type & _.MOVE_TO && (i = r, a = e), o;\n    };\n  }\n\n  function O(t, r, e, i, n, o) {\n    return a(t, r, e, i, n, o), u(function (a, s, u, h) {\n      var c = a.x1,\n          y = a.x2,\n          p = a.relative && !isNaN(h),\n          m = void 0 !== a.x ? a.x : p ? 0 : s,\n          O = void 0 !== a.y ? a.y : p ? 0 : u;\n\n      function l(t) {\n        return t * t;\n      }\n\n      a.type & _.HORIZ_LINE_TO && 0 !== r && (a.type = _.LINE_TO, a.y = a.relative ? 0 : u), a.type & _.VERT_LINE_TO && 0 !== e && (a.type = _.LINE_TO, a.x = a.relative ? 0 : s), void 0 !== a.x && (a.x = a.x * t + O * e + (p ? 0 : n)), void 0 !== a.y && (a.y = m * r + a.y * i + (p ? 0 : o)), void 0 !== a.x1 && (a.x1 = a.x1 * t + a.y1 * e + (p ? 0 : n)), void 0 !== a.y1 && (a.y1 = c * r + a.y1 * i + (p ? 0 : o)), void 0 !== a.x2 && (a.x2 = a.x2 * t + a.y2 * e + (p ? 0 : n)), void 0 !== a.y2 && (a.y2 = y * r + a.y2 * i + (p ? 0 : o));\n      var T = t * i - r * e;\n      if (void 0 !== a.xRot && (1 !== t || 0 !== r || 0 !== e || 1 !== i)) if (0 === T) delete a.rX, delete a.rY, delete a.xRot, delete a.lArcFlag, delete a.sweepFlag, a.type = _.LINE_TO;else {\n        var v = a.xRot * Math.PI / 180,\n            f = Math.sin(v),\n            N = Math.cos(v),\n            x = 1 / l(a.rX),\n            d = 1 / l(a.rY),\n            E = l(N) * x + l(f) * d,\n            A = 2 * f * N * (x - d),\n            C = l(f) * x + l(N) * d,\n            M = E * i * i - A * r * i + C * r * r,\n            R = A * (t * i + r * e) - 2 * (E * e * i + C * t * r),\n            g = E * e * e - A * t * e + C * t * t,\n            I = (Math.atan2(R, M - g) + Math.PI) % Math.PI / 2,\n            S = Math.sin(I),\n            L = Math.cos(I);\n        a.rX = Math.abs(T) / Math.sqrt(M * l(L) + R * S * L + g * l(S)), a.rY = Math.abs(T) / Math.sqrt(M * l(S) - R * S * L + g * l(L)), a.xRot = 180 * I / Math.PI;\n      }\n      return void 0 !== a.sweepFlag && 0 > T && (a.sweepFlag = +!a.sweepFlag), a;\n    });\n  }\n\n  function l() {\n    return function (t) {\n      var r = {};\n\n      for (var e in t) {\n        r[e] = t[e];\n      }\n\n      return r;\n    };\n  }\n\n  t.ROUND = function (t) {\n    function r(r) {\n      return Math.round(r * t) / t;\n    }\n\n    return void 0 === t && (t = 1e13), a(t), function (t) {\n      return void 0 !== t.x1 && (t.x1 = r(t.x1)), void 0 !== t.y1 && (t.y1 = r(t.y1)), void 0 !== t.x2 && (t.x2 = r(t.x2)), void 0 !== t.y2 && (t.y2 = r(t.y2)), void 0 !== t.x && (t.x = r(t.x)), void 0 !== t.y && (t.y = r(t.y)), void 0 !== t.rX && (t.rX = r(t.rX)), void 0 !== t.rY && (t.rY = r(t.rY)), t;\n    };\n  }, t.TO_ABS = r, t.TO_REL = function () {\n    return u(function (t, r, e) {\n      return t.relative || (void 0 !== t.x1 && (t.x1 -= r), void 0 !== t.y1 && (t.y1 -= e), void 0 !== t.x2 && (t.x2 -= r), void 0 !== t.y2 && (t.y2 -= e), void 0 !== t.x && (t.x -= r), void 0 !== t.y && (t.y -= e), t.relative = !0), t;\n    });\n  }, t.NORMALIZE_HVZ = function (t, r, e) {\n    return void 0 === t && (t = !0), void 0 === r && (r = !0), void 0 === e && (e = !0), u(function (i, a, n, o, s) {\n      if (isNaN(o) && !(i.type & _.MOVE_TO)) throw new Error(\"path must start with moveto\");\n      return r && i.type & _.HORIZ_LINE_TO && (i.type = _.LINE_TO, i.y = i.relative ? 0 : n), e && i.type & _.VERT_LINE_TO && (i.type = _.LINE_TO, i.x = i.relative ? 0 : a), t && i.type & _.CLOSE_PATH && (i.type = _.LINE_TO, i.x = i.relative ? o - a : o, i.y = i.relative ? s - n : s), i.type & _.ARC && (0 === i.rX || 0 === i.rY) && (i.type = _.LINE_TO, delete i.rX, delete i.rY, delete i.xRot, delete i.lArcFlag, delete i.sweepFlag), i;\n    });\n  }, t.NORMALIZE_ST = e, t.QT_TO_C = n, t.INFO = u, t.SANITIZE = function (t) {\n    void 0 === t && (t = 0), a(t);\n    var r = NaN,\n        e = NaN,\n        i = NaN,\n        n = NaN;\n    return u(function (a, o, s, u, h) {\n      var c = Math.abs,\n          y = !1,\n          p = 0,\n          m = 0;\n\n      if (a.type & _.SMOOTH_CURVE_TO && (p = isNaN(r) ? 0 : o - r, m = isNaN(e) ? 0 : s - e), a.type & (_.CURVE_TO | _.SMOOTH_CURVE_TO) ? (r = a.relative ? o + a.x2 : a.x2, e = a.relative ? s + a.y2 : a.y2) : (r = NaN, e = NaN), a.type & _.SMOOTH_QUAD_TO ? (i = isNaN(i) ? o : 2 * o - i, n = isNaN(n) ? s : 2 * s - n) : a.type & _.QUAD_TO ? (i = a.relative ? o + a.x1 : a.x1, n = a.relative ? s + a.y1 : a.y2) : (i = NaN, n = NaN), a.type & _.LINE_COMMANDS || a.type & _.ARC && (0 === a.rX || 0 === a.rY || !a.lArcFlag) || a.type & _.CURVE_TO || a.type & _.SMOOTH_CURVE_TO || a.type & _.QUAD_TO || a.type & _.SMOOTH_QUAD_TO) {\n        var O = void 0 === a.x ? 0 : a.relative ? a.x : a.x - o,\n            l = void 0 === a.y ? 0 : a.relative ? a.y : a.y - s;\n        p = isNaN(i) ? void 0 === a.x1 ? p : a.relative ? a.x : a.x1 - o : i - o, m = isNaN(n) ? void 0 === a.y1 ? m : a.relative ? a.y : a.y1 - s : n - s;\n        var T = void 0 === a.x2 ? 0 : a.relative ? a.x : a.x2 - o,\n            v = void 0 === a.y2 ? 0 : a.relative ? a.y : a.y2 - s;\n        c(O) <= t && c(l) <= t && c(p) <= t && c(m) <= t && c(T) <= t && c(v) <= t && (y = !0);\n      }\n\n      return a.type & _.CLOSE_PATH && c(o - u) <= t && c(s - h) <= t && (y = !0), y ? [] : a;\n    });\n  }, t.MATRIX = O, t.ROTATE = function (t, r, e) {\n    void 0 === r && (r = 0), void 0 === e && (e = 0), a(t, r, e);\n    var i = Math.sin(t),\n        n = Math.cos(t);\n    return O(n, i, -i, n, r - r * n + e * i, e - r * i - e * n);\n  }, t.TRANSLATE = function (t, r) {\n    return void 0 === r && (r = 0), a(t, r), O(1, 0, 0, 1, t, r);\n  }, t.SCALE = function (t, r) {\n    return void 0 === r && (r = t), a(t, r), O(t, 0, 0, r, 0, 0);\n  }, t.SKEW_X = function (t) {\n    return a(t), O(1, 0, Math.atan(t), 1, 0, 0);\n  }, t.SKEW_Y = function (t) {\n    return a(t), O(1, Math.atan(t), 0, 1, 0, 0);\n  }, t.X_AXIS_SYMMETRY = function (t) {\n    return void 0 === t && (t = 0), a(t), O(-1, 0, 0, 1, t, 0);\n  }, t.Y_AXIS_SYMMETRY = function (t) {\n    return void 0 === t && (t = 0), a(t), O(1, 0, 0, -1, 0, t);\n  }, t.A_TO_C = function () {\n    return u(function (t, r, e) {\n      return _.ARC === t.type ? function (t, r, e) {\n        var a, n, s, u;\n        t.cX || o(t, r, e);\n\n        for (var y = Math.min(t.phi1, t.phi2), p = Math.max(t.phi1, t.phi2) - y, m = Math.ceil(p / 90), O = new Array(m), l = r, T = e, v = 0; v < m; v++) {\n          var f = c(t.phi1, t.phi2, v / m),\n              N = c(t.phi1, t.phi2, (v + 1) / m),\n              x = N - f,\n              d = 4 / 3 * Math.tan(x * h / 4),\n              E = [Math.cos(f * h) - d * Math.sin(f * h), Math.sin(f * h) + d * Math.cos(f * h)],\n              A = E[0],\n              C = E[1],\n              M = [Math.cos(N * h), Math.sin(N * h)],\n              R = M[0],\n              g = M[1],\n              I = [R + d * Math.sin(N * h), g - d * Math.cos(N * h)],\n              S = I[0],\n              L = I[1];\n          O[v] = {\n            relative: t.relative,\n            type: _.CURVE_TO\n          };\n\n          var H = function H(r, e) {\n            var a = i([r * t.rX, e * t.rY], t.xRot),\n                n = a[0],\n                o = a[1];\n            return [t.cX + n, t.cY + o];\n          };\n\n          a = H(A, C), O[v].x1 = a[0], O[v].y1 = a[1], n = H(S, L), O[v].x2 = n[0], O[v].y2 = n[1], s = H(R, g), O[v].x = s[0], O[v].y = s[1], t.relative && (O[v].x1 -= l, O[v].y1 -= T, O[v].x2 -= l, O[v].y2 -= T, O[v].x -= l, O[v].y -= T), l = (u = [O[v].x, O[v].y])[0], T = u[1];\n        }\n\n        return O;\n      }(t, t.relative ? 0 : r, t.relative ? 0 : e) : t;\n    });\n  }, t.ANNOTATE_ARCS = function () {\n    return u(function (t, r, e) {\n      return t.relative && (r = 0, e = 0), _.ARC === t.type && o(t, r, e), t;\n    });\n  }, t.CLONE = l, t.CALCULATE_BOUNDS = function () {\n    var t = function t(_t2) {\n      var r = {};\n\n      for (var e in _t2) {\n        r[e] = _t2[e];\n      }\n\n      return r;\n    },\n        i = r(),\n        a = n(),\n        h = e(),\n        c = u(function (r, e, n) {\n      var u = h(a(i(t(r))));\n\n      function O(t) {\n        t > c.maxX && (c.maxX = t), t < c.minX && (c.minX = t);\n      }\n\n      function l(t) {\n        t > c.maxY && (c.maxY = t), t < c.minY && (c.minY = t);\n      }\n\n      if (u.type & _.DRAWING_COMMANDS && (O(e), l(n)), u.type & _.HORIZ_LINE_TO && O(u.x), u.type & _.VERT_LINE_TO && l(u.y), u.type & _.LINE_TO && (O(u.x), l(u.y)), u.type & _.CURVE_TO) {\n        O(u.x), l(u.y);\n\n        for (var T = 0, v = p(e, u.x1, u.x2, u.x); T < v.length; T++) {\n          0 < (w = v[T]) && 1 > w && O(m(e, u.x1, u.x2, u.x, w));\n        }\n\n        for (var f = 0, N = p(n, u.y1, u.y2, u.y); f < N.length; f++) {\n          0 < (w = N[f]) && 1 > w && l(m(n, u.y1, u.y2, u.y, w));\n        }\n      }\n\n      if (u.type & _.ARC) {\n        O(u.x), l(u.y), o(u, e, n);\n\n        for (var x = u.xRot / 180 * Math.PI, d = Math.cos(x) * u.rX, E = Math.sin(x) * u.rX, A = -Math.sin(x) * u.rY, C = Math.cos(x) * u.rY, M = u.phi1 < u.phi2 ? [u.phi1, u.phi2] : -180 > u.phi2 ? [u.phi2 + 360, u.phi1 + 360] : [u.phi2, u.phi1], R = M[0], g = M[1], I = function I(t) {\n          var r = t[0],\n              e = t[1],\n              i = 180 * Math.atan2(e, r) / Math.PI;\n          return i < R ? i + 360 : i;\n        }, S = 0, L = s(A, -d, 0).map(I); S < L.length; S++) {\n          (w = L[S]) > R && w < g && O(y(u.cX, d, A, w));\n        }\n\n        for (var H = 0, U = s(C, -E, 0).map(I); H < U.length; H++) {\n          var w;\n          (w = U[H]) > R && w < g && l(y(u.cY, E, C, w));\n        }\n      }\n\n      return r;\n    });\n\n    return c.minX = 1 / 0, c.maxX = -1 / 0, c.minY = 1 / 0, c.maxY = -1 / 0, c;\n  };\n}(u || (u = {}));\n\nvar O,\n    l = function () {\n  function t() {}\n\n  return t.prototype.round = function (t) {\n    return this.transform(u.ROUND(t));\n  }, t.prototype.toAbs = function () {\n    return this.transform(u.TO_ABS());\n  }, t.prototype.toRel = function () {\n    return this.transform(u.TO_REL());\n  }, t.prototype.normalizeHVZ = function (t, r, e) {\n    return this.transform(u.NORMALIZE_HVZ(t, r, e));\n  }, t.prototype.normalizeST = function () {\n    return this.transform(u.NORMALIZE_ST());\n  }, t.prototype.qtToC = function () {\n    return this.transform(u.QT_TO_C());\n  }, t.prototype.aToC = function () {\n    return this.transform(u.A_TO_C());\n  }, t.prototype.sanitize = function (t) {\n    return this.transform(u.SANITIZE(t));\n  }, t.prototype.translate = function (t, r) {\n    return this.transform(u.TRANSLATE(t, r));\n  }, t.prototype.scale = function (t, r) {\n    return this.transform(u.SCALE(t, r));\n  }, t.prototype.rotate = function (t, r, e) {\n    return this.transform(u.ROTATE(t, r, e));\n  }, t.prototype.matrix = function (t, r, e, i, a, n) {\n    return this.transform(u.MATRIX(t, r, e, i, a, n));\n  }, t.prototype.skewX = function (t) {\n    return this.transform(u.SKEW_X(t));\n  }, t.prototype.skewY = function (t) {\n    return this.transform(u.SKEW_Y(t));\n  }, t.prototype.xSymmetry = function (t) {\n    return this.transform(u.X_AXIS_SYMMETRY(t));\n  }, t.prototype.ySymmetry = function (t) {\n    return this.transform(u.Y_AXIS_SYMMETRY(t));\n  }, t.prototype.annotateArcs = function () {\n    return this.transform(u.ANNOTATE_ARCS());\n  }, t;\n}(),\n    T = function T(t) {\n  return \" \" === t || \"\\t\" === t || \"\\r\" === t || \"\\n\" === t;\n},\n    v = function v(t) {\n  return \"0\".charCodeAt(0) <= t.charCodeAt(0) && t.charCodeAt(0) <= \"9\".charCodeAt(0);\n},\n    f = function (t) {\n  function e() {\n    var r = t.call(this) || this;\n    return r.curNumber = \"\", r.curCommandType = -1, r.curCommandRelative = !1, r.canParseCommandOrComma = !0, r.curNumberHasExp = !1, r.curNumberHasExpDigits = !1, r.curNumberHasDecimal = !1, r.curArgs = [], r;\n  }\n\n  return r(e, t), e.prototype.finish = function (t) {\n    if (void 0 === t && (t = []), this.parse(\" \", t), 0 !== this.curArgs.length || !this.canParseCommandOrComma) throw new SyntaxError(\"Unterminated command at the path end.\");\n    return t;\n  }, e.prototype.parse = function (t, r) {\n    var e = this;\n    void 0 === r && (r = []);\n\n    for (var i = function i(t) {\n      r.push(t), e.curArgs.length = 0, e.canParseCommandOrComma = !0;\n    }, a = 0; a < t.length; a++) {\n      var n = t[a],\n          o = !(this.curCommandType !== _.ARC || 3 !== this.curArgs.length && 4 !== this.curArgs.length || 1 !== this.curNumber.length || \"0\" !== this.curNumber && \"1\" !== this.curNumber),\n          s = v(n) && (\"0\" === this.curNumber && \"0\" === n || o);\n      if (!v(n) || s) {\n        if (\"e\" !== n && \"E\" !== n) {\n          if (\"-\" !== n && \"+\" !== n || !this.curNumberHasExp || this.curNumberHasExpDigits) {\n            if (\".\" !== n || this.curNumberHasExp || this.curNumberHasDecimal || o) {\n              if (this.curNumber && -1 !== this.curCommandType) {\n                var u = Number(this.curNumber);\n                if (isNaN(u)) throw new SyntaxError(\"Invalid number ending at \" + a);\n                if (this.curCommandType === _.ARC) if (0 === this.curArgs.length || 1 === this.curArgs.length) {\n                  if (0 > u) throw new SyntaxError('Expected positive number, got \"' + u + '\" at index \"' + a + '\"');\n                } else if ((3 === this.curArgs.length || 4 === this.curArgs.length) && \"0\" !== this.curNumber && \"1\" !== this.curNumber) throw new SyntaxError('Expected a flag, got \"' + this.curNumber + '\" at index \"' + a + '\"');\n                this.curArgs.push(u), this.curArgs.length === N[this.curCommandType] && (_.HORIZ_LINE_TO === this.curCommandType ? i({\n                  type: _.HORIZ_LINE_TO,\n                  relative: this.curCommandRelative,\n                  x: u\n                }) : _.VERT_LINE_TO === this.curCommandType ? i({\n                  type: _.VERT_LINE_TO,\n                  relative: this.curCommandRelative,\n                  y: u\n                }) : this.curCommandType === _.MOVE_TO || this.curCommandType === _.LINE_TO || this.curCommandType === _.SMOOTH_QUAD_TO ? (i({\n                  type: this.curCommandType,\n                  relative: this.curCommandRelative,\n                  x: this.curArgs[0],\n                  y: this.curArgs[1]\n                }), _.MOVE_TO === this.curCommandType && (this.curCommandType = _.LINE_TO)) : this.curCommandType === _.CURVE_TO ? i({\n                  type: _.CURVE_TO,\n                  relative: this.curCommandRelative,\n                  x1: this.curArgs[0],\n                  y1: this.curArgs[1],\n                  x2: this.curArgs[2],\n                  y2: this.curArgs[3],\n                  x: this.curArgs[4],\n                  y: this.curArgs[5]\n                }) : this.curCommandType === _.SMOOTH_CURVE_TO ? i({\n                  type: _.SMOOTH_CURVE_TO,\n                  relative: this.curCommandRelative,\n                  x2: this.curArgs[0],\n                  y2: this.curArgs[1],\n                  x: this.curArgs[2],\n                  y: this.curArgs[3]\n                }) : this.curCommandType === _.QUAD_TO ? i({\n                  type: _.QUAD_TO,\n                  relative: this.curCommandRelative,\n                  x1: this.curArgs[0],\n                  y1: this.curArgs[1],\n                  x: this.curArgs[2],\n                  y: this.curArgs[3]\n                }) : this.curCommandType === _.ARC && i({\n                  type: _.ARC,\n                  relative: this.curCommandRelative,\n                  rX: this.curArgs[0],\n                  rY: this.curArgs[1],\n                  xRot: this.curArgs[2],\n                  lArcFlag: this.curArgs[3],\n                  sweepFlag: this.curArgs[4],\n                  x: this.curArgs[5],\n                  y: this.curArgs[6]\n                })), this.curNumber = \"\", this.curNumberHasExpDigits = !1, this.curNumberHasExp = !1, this.curNumberHasDecimal = !1, this.canParseCommandOrComma = !0;\n              }\n\n              if (!T(n)) if (\",\" === n && this.canParseCommandOrComma) this.canParseCommandOrComma = !1;else if (\"+\" !== n && \"-\" !== n && \".\" !== n) {\n                if (s) this.curNumber = n, this.curNumberHasDecimal = !1;else {\n                  if (0 !== this.curArgs.length) throw new SyntaxError(\"Unterminated command at index \" + a + \".\");\n                  if (!this.canParseCommandOrComma) throw new SyntaxError('Unexpected character \"' + n + '\" at index ' + a + \". Command cannot follow comma\");\n                  if (this.canParseCommandOrComma = !1, \"z\" !== n && \"Z\" !== n) {\n                    if (\"h\" === n || \"H\" === n) this.curCommandType = _.HORIZ_LINE_TO, this.curCommandRelative = \"h\" === n;else if (\"v\" === n || \"V\" === n) this.curCommandType = _.VERT_LINE_TO, this.curCommandRelative = \"v\" === n;else if (\"m\" === n || \"M\" === n) this.curCommandType = _.MOVE_TO, this.curCommandRelative = \"m\" === n;else if (\"l\" === n || \"L\" === n) this.curCommandType = _.LINE_TO, this.curCommandRelative = \"l\" === n;else if (\"c\" === n || \"C\" === n) this.curCommandType = _.CURVE_TO, this.curCommandRelative = \"c\" === n;else if (\"s\" === n || \"S\" === n) this.curCommandType = _.SMOOTH_CURVE_TO, this.curCommandRelative = \"s\" === n;else if (\"q\" === n || \"Q\" === n) this.curCommandType = _.QUAD_TO, this.curCommandRelative = \"q\" === n;else if (\"t\" === n || \"T\" === n) this.curCommandType = _.SMOOTH_QUAD_TO, this.curCommandRelative = \"t\" === n;else {\n                      if (\"a\" !== n && \"A\" !== n) throw new SyntaxError('Unexpected character \"' + n + '\" at index ' + a + \".\");\n                      this.curCommandType = _.ARC, this.curCommandRelative = \"a\" === n;\n                    }\n                  } else r.push({\n                    type: _.CLOSE_PATH\n                  }), this.canParseCommandOrComma = !0, this.curCommandType = -1;\n                }\n              } else this.curNumber = n, this.curNumberHasDecimal = \".\" === n;\n            } else this.curNumber += n, this.curNumberHasDecimal = !0;\n          } else this.curNumber += n;\n        } else this.curNumber += n, this.curNumberHasExp = !0;\n      } else this.curNumber += n, this.curNumberHasExpDigits = this.curNumberHasExp;\n    }\n\n    return r;\n  }, e.prototype.transform = function (t) {\n    return Object.create(this, {\n      parse: {\n        value: function value(r, e) {\n          void 0 === e && (e = []);\n\n          for (var i = 0, a = Object.getPrototypeOf(this).parse.call(this, r); i < a.length; i++) {\n            var n = a[i],\n                o = t(n);\n            Array.isArray(o) ? e.push.apply(e, o) : e.push(o);\n          }\n\n          return e;\n        }\n      }\n    });\n  }, e;\n}(l),\n    _ = function (t) {\n  function i(r) {\n    var e = t.call(this) || this;\n    return e.commands = \"string\" == typeof r ? i.parse(r) : r, e;\n  }\n\n  return r(i, t), i.prototype.encode = function () {\n    return i.encode(this.commands);\n  }, i.prototype.getBounds = function () {\n    var t = u.CALCULATE_BOUNDS();\n    return this.transform(t), t;\n  }, i.prototype.transform = function (t) {\n    for (var r = [], e = 0, i = this.commands; e < i.length; e++) {\n      var a = t(i[e]);\n      Array.isArray(a) ? r.push.apply(r, a) : r.push(a);\n    }\n\n    return this.commands = r, this;\n  }, i.encode = function (t) {\n    return e(t);\n  }, i.parse = function (t) {\n    var r = new f(),\n        e = [];\n    return r.parse(t, e), r.finish(e), e;\n  }, i.CLOSE_PATH = 1, i.MOVE_TO = 2, i.HORIZ_LINE_TO = 4, i.VERT_LINE_TO = 8, i.LINE_TO = 16, i.CURVE_TO = 32, i.SMOOTH_CURVE_TO = 64, i.QUAD_TO = 128, i.SMOOTH_QUAD_TO = 256, i.ARC = 512, i.LINE_COMMANDS = i.LINE_TO | i.HORIZ_LINE_TO | i.VERT_LINE_TO, i.DRAWING_COMMANDS = i.HORIZ_LINE_TO | i.VERT_LINE_TO | i.LINE_TO | i.CURVE_TO | i.SMOOTH_CURVE_TO | i.QUAD_TO | i.SMOOTH_QUAD_TO | i.ARC, i;\n}(l),\n    N = ((O = {})[_.MOVE_TO] = 2, O[_.LINE_TO] = 2, O[_.HORIZ_LINE_TO] = 1, O[_.VERT_LINE_TO] = 1, O[_.CLOSE_PATH] = 0, O[_.QUAD_TO] = 4, O[_.SMOOTH_QUAD_TO] = 2, O[_.CURVE_TO] = 6, O[_.SMOOTH_CURVE_TO] = 4, O[_.ARC] = 7, O);\n\nexport { N as COMMAND_ARG_COUNTS, _ as SVGPathData, f as SVGPathDataParser, u as SVGPathDataTransformer, e as encodeSVGPath };","map":{"version":3,"mappings":"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","names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","encodeSVGPath","commands","str","isArray","i","length","command","type","SVGPathData","CLOSE_PATH","HORIZ_LINE_TO","relative","x","VERT_LINE_TO","y","MOVE_TO","LINE_TO","CURVE_TO","x1","y1","x2","y2","SMOOTH_CURVE_TO","QUAD_TO","SMOOTH_QUAD_TO","ARC","Error","rX","rY","xRot","lArcFlag","sweepFlag","rotate","_a","rad","Math","cos","sin","assertNumbers","_i","numbers","PI","annotateArcCommand","c","abs","x1_","y1_","testValue","pow","sqrt","c_ScaleTemp","c_Scale","max","cx_","cy_","cRot","cX","cY","phi1","atan2","phi2","intersectionUnitCircleLine","a","termSqr","term","SVGPathDataTransformer","DEG","lerp","t","arcAt","phiDeg","bezierRoot","x0","x3","EPS","x01","x12","q","PRECISION","discriminantX4","root","pqFormula","bezierAt","s","TO_ABS","INFO","prevX","prevY","NORMALIZE_ST","prevCurveC2X","NaN","prevCurveC2Y","prevQuadCX","prevQuadCY","isNaN","QT_TO_C","prevQuadX1","prevQuadY1","f","prevXAbs","prevYAbs","pathStartXAbs","pathStartYAbs","result","MATRIX","e","pathStartX","origX1","origX2","comRel","sqr","det","sinRot","cosRot","xCurve","yCurve","A","B","C","A1","B1","C1","newXRot","newSinRot","newCosRot","CLONE","key","roundVal","rf","val","round","normalizeZ","normalizeH","normalizeV","pathStartY","skip","x1Rel","y1Rel","LINE_COMMANDS","xRel","yRel","x2Rel","y2Rel","dX","dY","atan","xOffset","yOffset","arc","y0","phiMin","min","deltaPhi","partCount","ceil","phiStart","phiEnd","deltaPhi_1","tan","_e","_f","_g","transform","xTemp","yTemp","_b","_c","_d","a2c","clone","toAbs","qtToC","normST","fixX","absX","maxX","minX","fixY","absY","maxY","minY","DRAWING_COMMANDS","xDerivRoots_1","derivRoot","yDerivRoots_1","xRotRad","x90","y90","phiMin_1","phiMax","normalizeXiEta","xi","eta","phi","xDerivRoots_2","map","yDerivRoots_2","Infinity","TransformableSVG","ROUND","TO_REL","NORMALIZE_HVZ","A_TO_C","eps","SANITIZE","TRANSLATE","SCALE","ROTATE","SKEW_X","SKEW_Y","X_AXIS_SYMMETRY","Y_AXIS_SYMMETRY","ANNOTATE_ARCS","isWhiteSpace","isDigit","charCodeAt","_super","_this","r","SVGPathDataParser","parse","curArgs","canParseCommandOrComma","SyntaxError","finishCommand","push","isAArcFlag","curCommandType","curNumber","isEndingDigit","curNumberHasExp","curNumberHasExpDigits","curNumberHasDecimal","Number","COMMAND_ARG_COUNTS","curCommandRelative","value","chunk","parsedCommands_1","getPrototypeOf","cT","content","encode","boundsTransform","CALCULATE_BOUNDS","transformFunction","newCommands","transformedCommand","path","parser","finish","O"],"sources":["C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\node_modules\\tslib\\tslib.es6.js","C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\src\\SVGPathDataEncoder.ts","C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\src\\mathUtils.ts","C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\src\\SVGPathDataTransformer.ts","C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\src\\TransformableSVG.ts","C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\src\\SVGPathDataParser.ts","C:\\Users\\Gianluca\\Documents\\itWork\\Projects\\cvApps\\node_modules\\svg-pathdata\\src\\SVGPathData.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { SVGPathData } from \"./SVGPathData\";\nimport { SVGCommand } from \"./types\";\n\n// Encode SVG PathData\n// http://www.w3.org/TR/SVG/paths.html#PathDataBNF\n\n// Private consts : Char groups\nconst WSP = \" \";\n\nexport function encodeSVGPath(commands: SVGCommand | SVGCommand[]) {\n  let str = \"\";\n\n  if (!Array.isArray(commands)) {\n    commands = [commands];\n  }\n  for (let i = 0; i < commands.length; i++) {\n    const command = commands[i];\n    if (command.type === SVGPathData.CLOSE_PATH) {\n      str += \"z\";\n    } else if (command.type === SVGPathData.HORIZ_LINE_TO) {\n      str += (command.relative ? \"h\" : \"H\") +\n        command.x;\n    } else if (command.type === SVGPathData.VERT_LINE_TO) {\n      str += (command.relative ? \"v\" : \"V\") +\n        command.y;\n    } else if (command.type === SVGPathData.MOVE_TO) {\n      str += (command.relative ? \"m\" : \"M\") +\n        command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.LINE_TO) {\n      str += (command.relative ? \"l\" : \"L\") +\n        command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.CURVE_TO) {\n      str += (command.relative ? \"c\" : \"C\") +\n        command.x1 + WSP + command.y1 +\n        WSP + command.x2 + WSP + command.y2 +\n        WSP + command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.SMOOTH_CURVE_TO) {\n      str += (command.relative ? \"s\" : \"S\") +\n        command.x2 + WSP + command.y2 +\n        WSP + command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.QUAD_TO) {\n      str += (command.relative ? \"q\" : \"Q\") +\n        command.x1 + WSP + command.y1 +\n        WSP + command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.SMOOTH_QUAD_TO) {\n      str += (command.relative ? \"t\" : \"T\") +\n        command.x + WSP + command.y;\n    } else if (command.type === SVGPathData.ARC) {\n      str += (command.relative ? \"a\" : \"A\") +\n        command.rX + WSP + command.rY +\n        WSP + command.xRot +\n        WSP + (+command.lArcFlag) + WSP + (+command.sweepFlag) +\n        WSP + command.x + WSP + command.y;\n    } else {\n      // Unknown command\n      throw new Error(\n        `Unexpected command type \"${ (command as any).type}\" at index ${i}.`);\n    }\n  }\n\n  return str;\n}\n","import { SVGPathData } from \"./SVGPathData\";\nimport { CommandA, CommandC } from \"./types\";\n\nexport function rotate([x, y]: [number, number], rad: number) {\n  return [\n    x * Math.cos(rad) - y * Math.sin(rad),\n    x * Math.sin(rad) + y * Math.cos(rad),\n  ];\n}\n\nconst DEBUG_CHECK_NUMBERS = true;\nexport function assertNumbers(...numbers: number[]) {\n  if (DEBUG_CHECK_NUMBERS) {\n    for (let i = 0; i < numbers.length; i++) {\n      if (\"number\" !== typeof numbers[i]) {\n        throw new Error(\n          `assertNumbers arguments[${i}] is not a number. ${typeof numbers[i]} == typeof ${numbers[i]}`);\n      }\n    }\n  }\n  return true;\n}\n\nconst PI = Math.PI;\n\n/**\n * https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n * Fixes rX and rY.\n * Ensures lArcFlag and sweepFlag are 0 or 1\n * Adds center coordinates: command.cX, command.cY (relative or absolute, depending on command.relative)\n * Adds start and end arc parameters (in degrees): command.phi1, command.phi2; phi1 < phi2 iff. c.sweepFlag == true\n */\nexport function annotateArcCommand(c: CommandA, x1: number, y1: number) {\n  c.lArcFlag = (0 === c.lArcFlag) ? 0 : 1;\n  c.sweepFlag = (0 === c.sweepFlag) ? 0 : 1;\n  // tslint:disable-next-line\n  let {rX, rY, x, y} = c;\n\n  rX = Math.abs(c.rX);\n  rY = Math.abs(c.rY);\n  const [x1_, y1_] = rotate([(x1 - x) / 2, (y1 - y) / 2], -c.xRot / 180 * PI);\n  const testValue = Math.pow(x1_, 2) / Math.pow(rX, 2) + Math.pow(y1_, 2) / Math.pow(rY, 2);\n\n  if (1 < testValue) {\n    rX *= Math.sqrt(testValue);\n    rY *= Math.sqrt(testValue);\n  }\n  c.rX = rX;\n  c.rY = rY;\n  const c_ScaleTemp = (Math.pow(rX, 2) * Math.pow(y1_, 2) + Math.pow(rY, 2) * Math.pow(x1_, 2));\n  const c_Scale = (c.lArcFlag !== c.sweepFlag ? 1 : -1) *\n    Math.sqrt(Math.max(0, (Math.pow(rX, 2) * Math.pow(rY, 2) - c_ScaleTemp) / c_ScaleTemp));\n  const cx_ = rX * y1_ / rY * c_Scale;\n  const cy_ = -rY * x1_ / rX * c_Scale;\n  const cRot = rotate([cx_, cy_], c.xRot / 180 * PI);\n\n  c.cX = cRot[0] + (x1 + x) / 2;\n  c.cY = cRot[1] + (y1 + y) / 2;\n  c.phi1 = Math.atan2((y1_ - cy_) / rY, (x1_ - cx_) / rX);\n  c.phi2 = Math.atan2((-y1_ - cy_) / rY, (-x1_ - cx_) / rX);\n  if (0 === c.sweepFlag && c.phi2 > c.phi1) {\n    c.phi2 -= 2 * PI;\n  }\n  if (1 === c.sweepFlag && c.phi2 < c.phi1) {\n    c.phi2 += 2 * PI;\n  }\n  c.phi1 *= 180 / PI;\n  c.phi2 *= 180 / PI;\n}\n\n/**\n * Solves a quadratic system of equations of the form\n *      a * x + b * y = c\n *      x² + y² = 1\n * This can be understood as the intersection of the unit circle with a line.\n *      => y = (c - a x) / b\n *      => x² + (c - a x)² / b² = 1\n *      => x² b² + c² - 2 c a x + a² x² = b²\n *      => (a² + b²) x² - 2 a c x + (c² - b²) = 0\n */\nexport function intersectionUnitCircleLine(a: number, b: number, c: number): [number, number][] {\n  assertNumbers(a, b, c);\n  // cf. pqFormula\n  const termSqr = a * a + b * b - c * c;\n\n  if (0 > termSqr) {\n    return [];\n  } else if (0 === termSqr) {\n    return [\n      [\n        (a * c) / (a * a + b * b),\n        (b * c) / (a * a + b * b)]];\n  }\n  const term = Math.sqrt(termSqr);\n\n  return [\n    [\n      (a * c + b * term) / (a * a + b * b),\n      (b * c - a * term) / (a * a + b * b)],\n    [\n      (a * c - b * term) / (a * a + b * b),\n      (b * c + a * term) / (a * a + b * b)]];\n\n}\n\nexport const DEG = Math.PI / 180;\n\nexport function lerp(a: number, b: number, t: number) {\n  return (1 - t) * a + t * b;\n}\n\nexport function arcAt(c: number, x1: number, x2: number, phiDeg: number) {\n  return c + Math.cos(phiDeg / 180 * PI) * x1 + Math.sin(phiDeg / 180 * PI) * x2;\n}\n\nexport function bezierRoot(x0: number, x1: number, x2: number, x3: number) {\n  const EPS = 1e-6;\n  const x01 = x1 - x0;\n  const x12 = x2 - x1;\n  const x23 = x3 - x2;\n  const a = 3 * x01 + 3 * x23 - 6 * x12;\n  const b = (x12 - x01) * 6;\n  const c = 3 * x01;\n  // solve a * t² + b * t + c = 0\n\n  if (Math.abs(a) < EPS) {\n    // equivalent to b * t + c =>\n    return [-c / b];\n  }\n  return pqFormula(b / a, c / a, EPS);\n\n}\n\nexport function bezierAt(x0: number, x1: number, x2: number, x3: number, t: number) {\n  // console.log(x0, y0, x1, y1, x2, y2, x3, y3, t)\n  const s = 1 - t;\n  const c0 = s * s * s;\n  const c1 = 3 * s * s * t;\n  const c2 = 3 * s * t * t;\n  const c3 = t * t * t;\n\n  return x0 * c0 + x1 * c1 + x2 * c2 + x3 * c3;\n}\n\nfunction pqFormula(p: number, q: number, PRECISION = 1e-6) {\n  // 4 times the discriminant:in\n  const discriminantX4 = p * p / 4 - q;\n\n  if (discriminantX4 < -PRECISION) {\n    return [];\n  } else if (discriminantX4 <= PRECISION) {\n    return [-p / 2];\n  }\n  const root = Math.sqrt(discriminantX4);\n\n  return [-(p / 2) - root, -(p / 2) + root];\n\n}\n\nexport function a2c(arc: CommandA, x0: number, y0: number): CommandC[] {\n  if (!arc.cX) {\n    annotateArcCommand(arc, x0, y0);\n  }\n\n  const phiMin = Math.min(arc.phi1!, arc.phi2!), phiMax = Math.max(arc.phi1!, arc.phi2!), deltaPhi = phiMax - phiMin;\n  const partCount = Math.ceil(deltaPhi / 90 );\n\n  const result: CommandC[] = new Array(partCount);\n  let prevX = x0, prevY = y0;\n  for (let i = 0; i < partCount; i++) {\n    const phiStart = lerp(arc.phi1!, arc.phi2!, i / partCount);\n    const phiEnd = lerp(arc.phi1!, arc.phi2!, (i + 1) / partCount);\n    const deltaPhi = phiEnd - phiStart;\n    const f = 4 / 3 * Math.tan(deltaPhi * DEG / 4);\n    // x1/y1, x2/y2 and x/y coordinates on the unit circle for phiStart/phiEnd\n    const [x1, y1] = [\n      Math.cos(phiStart * DEG) - f * Math.sin(phiStart * DEG),\n      Math.sin(phiStart * DEG) + f * Math.cos(phiStart * DEG)];\n    const [x, y] = [Math.cos(phiEnd * DEG), Math.sin(phiEnd * DEG)];\n    const [x2, y2] = [x + f * Math.sin(phiEnd * DEG), y - f * Math.cos(phiEnd * DEG)];\n    result[i] = {relative: arc.relative, type: SVGPathData.CURVE_TO } as any;\n    const transform = (x: number, y: number) => {\n      const [xTemp, yTemp] = rotate([x * arc.rX, y * arc.rY], arc.xRot);\n      return [arc.cX! + xTemp, arc.cY! + yTemp];\n    };\n    [result[i].x1, result[i].y1] = transform(x1, y1);\n    [result[i].x2, result[i].y2] = transform(x2, y2);\n    [result[i].x, result[i].y] = transform(x, y);\n    if (arc.relative) {\n      result[i].x1 -= prevX;\n      result[i].y1 -= prevY;\n      result[i].x2 -= prevX;\n      result[i].y2 -= prevY;\n      result[i].x -= prevX;\n      result[i].y -= prevY;\n    }\n    [prevX, prevY] = [result[i].x, result[i].y];\n  }\n  return result;\n}\n","// Transform SVG PathData\n// http://www.w3.org/TR/SVG/paths.html#PathDataBNF\n\nimport { a2c, annotateArcCommand, arcAt, assertNumbers, bezierAt, bezierRoot,\n  intersectionUnitCircleLine } from \"./mathUtils\";\nimport { SVGPathData } from \"./SVGPathData\";\nimport { SVGCommand, TransformFunction } from \"./types\";\n\nexport namespace SVGPathDataTransformer {\n  // Predefined transforming functions\n  // Rounds commands values\n  export function ROUND(roundVal = 1e13) {\n    assertNumbers(roundVal);\n    function rf(val: number) { return Math.round(val * roundVal) / roundVal; }\n    return function round(command: any) {\n      if (\"undefined\" !== typeof command.x1) {\n        command.x1 = rf(command.x1);\n      }\n      if (\"undefined\" !== typeof command.y1) {\n        command.y1 = rf(command.y1);\n      }\n\n      if (\"undefined\" !== typeof command.x2) {\n        command.x2 = rf(command.x2);\n      }\n      if (\"undefined\" !== typeof command.y2) {\n        command.y2 = rf(command.y2);\n      }\n\n      if (\"undefined\" !== typeof command.x) {\n        command.x = rf(command.x);\n      }\n      if (\"undefined\" !== typeof command.y) {\n        command.y = rf(command.y);\n      }\n\n      if (\"undefined\" !== typeof command.rX) {\n        command.rX = rf(command.rX);\n      }\n      if (\"undefined\" !== typeof command.rY) {\n        command.rY = rf(command.rY);\n      }\n\n      return command;\n    };\n  }\n  // Relative to absolute commands\n  export function TO_ABS() {\n    return INFO((command, prevX, prevY) => {\n      if (command.relative) {\n        // x1/y1 values\n        if (\"undefined\" !== typeof command.x1) {\n          command.x1 += prevX;\n        }\n        if (\"undefined\" !== typeof command.y1) {\n          command.y1 += prevY;\n        }\n        // x2/y2 values\n        if (\"undefined\" !== typeof command.x2) {\n          command.x2 += prevX;\n        }\n        if (\"undefined\" !== typeof command.y2) {\n          command.y2 += prevY;\n        }\n        // Finally x/y values\n        if (\"undefined\" !== typeof command.x) {\n          command.x += prevX;\n        }\n        if (\"undefined\" !== typeof command.y) {\n          command.y += prevY;\n        }\n        command.relative = false;\n      }\n      return command;\n    });\n  }\n  // Absolute to relative commands\n  export function TO_REL() {\n    return INFO((command, prevX, prevY) => {\n      if (!command.relative) {\n        // x1/y1 values\n        if (\"undefined\" !== typeof command.x1) {\n          command.x1 -= prevX;\n        }\n        if (\"undefined\" !== typeof command.y1) {\n          command.y1 -= prevY;\n        }\n        // x2/y2 values\n        if (\"undefined\" !== typeof command.x2) {\n          command.x2 -= prevX;\n        }\n        if (\"undefined\" !== typeof command.y2) {\n          command.y2 -= prevY;\n        }\n        // Finally x/y values\n        if (\"undefined\" !== typeof command.x) {\n          command.x -= prevX;\n        }\n        if (\"undefined\" !== typeof command.y) {\n          command.y -= prevY;\n        }\n        command.relative = true;\n      }\n      return command;\n    });\n  }\n  // Convert H, V, Z and A with rX = 0 to L\n  export function NORMALIZE_HVZ(normalizeZ = true, normalizeH = true, normalizeV = true) {\n    return INFO((command, prevX, prevY, pathStartX, pathStartY) => {\n      if (isNaN(pathStartX) && !(command.type & SVGPathData.MOVE_TO)) {\n        throw new Error(\"path must start with moveto\");\n      }\n      if (normalizeH && command.type & SVGPathData.HORIZ_LINE_TO) {\n        command.type = SVGPathData.LINE_TO;\n        command.y = command.relative ? 0 : prevY;\n      }\n      if (normalizeV && command.type & SVGPathData.VERT_LINE_TO) {\n        command.type = SVGPathData.LINE_TO;\n        command.x = command.relative ? 0 : prevX;\n      }\n      if (normalizeZ && command.type & SVGPathData.CLOSE_PATH) {\n        command.type = SVGPathData.LINE_TO;\n        command.x = command.relative ? pathStartX - prevX : pathStartX;\n        command.y = command.relative ? pathStartY - prevY : pathStartY;\n      }\n      if (command.type & SVGPathData.ARC && (0 === command.rX || 0 === command.rY)) {\n        command.type = SVGPathData.LINE_TO;\n        delete command.rX;\n        delete command.rY;\n        delete command.xRot;\n        delete command.lArcFlag;\n        delete command.sweepFlag;\n      }\n      return command;\n    });\n  }\n  /*\n   * Transforms smooth curves and quads to normal curves and quads (SsTt to CcQq)\n   */\n  export function NORMALIZE_ST() {\n    let prevCurveC2X = NaN;\n    let prevCurveC2Y = NaN;\n    let prevQuadCX = NaN;\n    let prevQuadCY = NaN;\n\n    return INFO((command, prevX, prevY) => {\n      if (command.type & SVGPathData.SMOOTH_CURVE_TO) {\n        command.type = SVGPathData.CURVE_TO;\n        prevCurveC2X = isNaN(prevCurveC2X) ? prevX : prevCurveC2X;\n        prevCurveC2Y = isNaN(prevCurveC2Y) ? prevY : prevCurveC2Y;\n        command.x1 = command.relative ? prevX - prevCurveC2X : 2 * prevX - prevCurveC2X;\n        command.y1 = command.relative ? prevY - prevCurveC2Y : 2 * prevY - prevCurveC2Y;\n      }\n      if (command.type & SVGPathData.CURVE_TO) {\n        prevCurveC2X = command.relative ? prevX + command.x2 : command.x2;\n        prevCurveC2Y = command.relative ? prevY + command.y2 : command.y2;\n      } else {\n        prevCurveC2X = NaN;\n        prevCurveC2Y = NaN;\n      }\n      if (command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        command.type = SVGPathData.QUAD_TO;\n        prevQuadCX = isNaN(prevQuadCX) ? prevX : prevQuadCX;\n        prevQuadCY = isNaN(prevQuadCY) ? prevY : prevQuadCY;\n        command.x1 = command.relative ? prevX - prevQuadCX : 2 * prevX - prevQuadCX;\n        command.y1 = command.relative ? prevY - prevQuadCY : 2 * prevY - prevQuadCY;\n      }\n      if (command.type & SVGPathData.QUAD_TO) {\n        prevQuadCX = command.relative ? prevX + command.x1 : command.x1;\n        prevQuadCY = command.relative ? prevY + command.y1 : command.y1;\n      } else {\n        prevQuadCX = NaN;\n        prevQuadCY = NaN;\n      }\n\n      return command;\n    });\n  }\n  /*\n   * A quadratic bézier curve can be represented by a cubic bézier curve which has\n   * the same end points as the quadratic and both control points in place of the\n   * quadratic\"s one.\n   *\n   * This transformer replaces QqTt commands with Cc commands respectively.\n   * This is useful for reading path data into a system which only has a\n   * representation for cubic curves.\n   */\n  export function QT_TO_C() {\n    let prevQuadX1 = NaN;\n    let prevQuadY1 = NaN;\n\n    return INFO((command, prevX, prevY) => {\n      if (command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        command.type = SVGPathData.QUAD_TO;\n        prevQuadX1 = isNaN(prevQuadX1) ? prevX : prevQuadX1;\n        prevQuadY1 = isNaN(prevQuadY1) ? prevY : prevQuadY1;\n        command.x1 = command.relative ? prevX - prevQuadX1 : 2 * prevX - prevQuadX1;\n        command.y1 = command.relative ? prevY - prevQuadY1 : 2 * prevY - prevQuadY1;\n      }\n      if (command.type & SVGPathData.QUAD_TO) {\n        prevQuadX1 = command.relative ? prevX + command.x1 : command.x1;\n        prevQuadY1 = command.relative ? prevY + command.y1 : command.y1;\n        const x1 = command.x1;\n        const y1 = command.y1;\n\n        command.type = SVGPathData.CURVE_TO;\n        command.x1 = ((command.relative ? 0 : prevX) + x1 * 2) / 3;\n        command.y1 = ((command.relative ? 0 : prevY) + y1 * 2) / 3;\n        command.x2 = (command.x + x1 * 2) / 3;\n        command.y2 = (command.y + y1 * 2) / 3;\n      } else {\n        prevQuadX1 = NaN;\n        prevQuadY1 = NaN;\n      }\n\n      return command;\n    });\n  }\n  export function INFO(\n    f: (command: any, prevXAbs: number, prevYAbs: number,\n        pathStartXAbs: number, pathStartYAbs: number) => any | any[]) {\n    let prevXAbs = 0;\n    let prevYAbs = 0;\n    let pathStartXAbs = NaN;\n    let pathStartYAbs = NaN;\n\n    return function transform(command: any) {\n      if (isNaN(pathStartXAbs) && !(command.type & SVGPathData.MOVE_TO)) {\n        throw new Error(\"path must start with moveto\");\n      }\n\n      const result = f(command, prevXAbs, prevYAbs, pathStartXAbs, pathStartYAbs);\n\n      if (command.type & SVGPathData.CLOSE_PATH) {\n        prevXAbs = pathStartXAbs;\n        prevYAbs = pathStartYAbs;\n      }\n\n      if (\"undefined\" !== typeof command.x) {\n        prevXAbs = (command.relative ? prevXAbs + command.x : command.x);\n      }\n      if (\"undefined\" !== typeof command.y) {\n        prevYAbs = (command.relative ? prevYAbs + command.y : command.y);\n      }\n\n      if (command.type & SVGPathData.MOVE_TO) {\n        pathStartXAbs = prevXAbs;\n        pathStartYAbs = prevYAbs;\n      }\n\n      return result;\n    };\n  }\n  /*\n   * remove 0-length segments\n   */\n  export function SANITIZE(EPS = 0) {\n    assertNumbers(EPS);\n    let prevCurveC2X = NaN;\n    let prevCurveC2Y = NaN;\n    let prevQuadCX = NaN;\n    let prevQuadCY = NaN;\n\n    return INFO((command, prevX, prevY, pathStartX, pathStartY) => {\n      const abs = Math.abs;\n      let skip = false;\n      let x1Rel = 0;\n      let y1Rel = 0;\n\n      if (command.type & SVGPathData.SMOOTH_CURVE_TO) {\n        x1Rel = isNaN(prevCurveC2X) ? 0 : prevX - prevCurveC2X;\n        y1Rel = isNaN(prevCurveC2Y) ? 0 : prevY - prevCurveC2Y;\n      }\n      if (command.type & (SVGPathData.CURVE_TO | SVGPathData.SMOOTH_CURVE_TO)) {\n        prevCurveC2X = command.relative ? prevX + command.x2 : command.x2;\n        prevCurveC2Y = command.relative ? prevY + command.y2 : command.y2;\n      } else {\n        prevCurveC2X = NaN;\n        prevCurveC2Y = NaN;\n      }\n      if (command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        prevQuadCX = isNaN(prevQuadCX) ? prevX : 2 * prevX - prevQuadCX;\n        prevQuadCY = isNaN(prevQuadCY) ? prevY : 2 * prevY - prevQuadCY;\n      } else if (command.type & SVGPathData.QUAD_TO) {\n        prevQuadCX = command.relative ? prevX + command.x1 : command.x1;\n        prevQuadCY = command.relative ? prevY + command.y1 : command.y2;\n      } else {\n        prevQuadCX = NaN;\n        prevQuadCY = NaN;\n      }\n\n      if (command.type & SVGPathData.LINE_COMMANDS ||\n        command.type & SVGPathData.ARC && (0 === command.rX || 0 === command.rY || !command.lArcFlag) ||\n        command.type & SVGPathData.CURVE_TO || command.type & SVGPathData.SMOOTH_CURVE_TO ||\n        command.type & SVGPathData.QUAD_TO || command.type & SVGPathData.SMOOTH_QUAD_TO) {\n        const xRel = \"undefined\" === typeof command.x ? 0 :\n          (command.relative ? command.x : command.x - prevX);\n        const yRel = \"undefined\" === typeof command.y ? 0 :\n          (command.relative ? command.y : command.y - prevY);\n\n        x1Rel = !isNaN(prevQuadCX) ? prevQuadCX - prevX :\n          \"undefined\" === typeof command.x1 ? x1Rel :\n            command.relative ? command.x :\n              command.x1 - prevX;\n        y1Rel = !isNaN(prevQuadCY) ? prevQuadCY - prevY :\n          \"undefined\" === typeof command.y1 ? y1Rel :\n            command.relative ? command.y :\n              command.y1 - prevY;\n\n        const x2Rel = \"undefined\" === typeof command.x2 ? 0 :\n          (command.relative ? command.x : command.x2 - prevX);\n        const y2Rel = \"undefined\" === typeof command.y2 ? 0 :\n          (command.relative ? command.y : command.y2 - prevY);\n\n        if (abs(xRel) <= EPS && abs(yRel) <= EPS &&\n          abs(x1Rel) <= EPS && abs(y1Rel) <= EPS &&\n          abs(x2Rel) <= EPS && abs(y2Rel) <= EPS) {\n          skip = true;\n        }\n      }\n\n      if (command.type & SVGPathData.CLOSE_PATH) {\n        if (abs(prevX - pathStartX) <= EPS && abs(prevY - pathStartY) <= EPS) {\n          skip = true;\n        }\n      }\n\n      return skip ? [] : command;\n    });\n  }\n  // SVG Transforms : http://www.w3.org/TR/SVGTiny12/coords.html#TransformList\n  // Matrix : http://apike.ca/prog_svg_transform.html\n  // a c e\n  // b d f\n  export function MATRIX(a: number, b: number, c: number, d: number, e: number, f: number) {\n    assertNumbers(a, b, c, d, e, f);\n\n    return INFO((command, prevX, prevY, pathStartX) => {\n      const origX1 = command.x1;\n      const origX2 = command.x2;\n      // if isNaN(pathStartX), then this is the first command, which is ALWAYS an\n      // absolute MOVE_TO, regardless what the relative flag says\n      const comRel = command.relative && !isNaN(pathStartX);\n      const x = \"undefined\" !== typeof command.x ? command.x : (comRel ? 0 : prevX);\n      const y = \"undefined\" !== typeof command.y ? command.y : (comRel ? 0 : prevY);\n\n      if (command.type & SVGPathData.HORIZ_LINE_TO && 0 !== b) {\n        command.type = SVGPathData.LINE_TO;\n        command.y = command.relative ? 0 : prevY;\n      }\n      if (command.type & SVGPathData.VERT_LINE_TO && 0 !== c) {\n        command.type = SVGPathData.LINE_TO;\n        command.x = command.relative ? 0 : prevX;\n      }\n\n      if (\"undefined\" !== typeof command.x) {\n        command.x = (command.x * a) + (y * c) + (comRel ? 0 : e);\n      }\n      if (\"undefined\" !== typeof command.y) {\n        command.y = (x * b) + command.y * d + (comRel ? 0 : f);\n      }\n      if (\"undefined\" !== typeof command.x1) {\n        command.x1 = command.x1 * a + command.y1 * c + (comRel ? 0 : e);\n      }\n      if (\"undefined\" !== typeof command.y1) {\n        command.y1 = origX1 * b + command.y1 * d + (comRel ? 0 : f);\n      }\n      if (\"undefined\" !== typeof command.x2) {\n        command.x2 = command.x2 * a + command.y2 * c + (comRel ? 0 : e);\n      }\n      if (\"undefined\" !== typeof command.y2) {\n        command.y2 = origX2 * b + command.y2 * d + (comRel ? 0 : f);\n      }\n      function sqr(x: number) { return x * x; }\n      const det = a * d - b * c;\n\n      if (\"undefined\" !== typeof command.xRot) {\n        // Skip if this is a pure translation\n        if (1 !== a || 0 !== b || 0 !== c || 1 !== d) {\n          // Special case for singular matrix\n          if (0 === det) {\n            // In the singular case, the arc is compressed to a line. The actual geometric image of the original\n            // curve under this transform possibly extends beyond the starting and/or ending points of the segment, but\n            // for simplicity we ignore this detail and just replace this command with a single line segment.\n            delete command.rX;\n            delete command.rY;\n            delete command.xRot;\n            delete command.lArcFlag;\n            delete command.sweepFlag;\n            command.type = SVGPathData.LINE_TO;\n          } else {\n            // Convert to radians\n            const xRot = command.xRot * Math.PI / 180;\n\n            // Convert rotated ellipse to general conic form\n            // x0^2/rX^2 + y0^2/rY^2 - 1 = 0\n            // x0 = x*cos(xRot) + y*sin(xRot)\n            // y0 = -x*sin(xRot) + y*cos(xRot)\n            // --> A*x^2 + B*x*y + C*y^2 - 1 = 0, where\n            const sinRot = Math.sin(xRot);\n            const cosRot = Math.cos(xRot);\n            const xCurve = 1 / sqr(command.rX);\n            const yCurve = 1 / sqr(command.rY);\n            const A = sqr(cosRot) * xCurve + sqr(sinRot) * yCurve;\n            const B = 2 * sinRot * cosRot * (xCurve - yCurve);\n            const C = sqr(sinRot) * xCurve + sqr(cosRot) * yCurve;\n\n            // Apply matrix to A*x^2 + B*x*y + C*y^2 - 1 = 0\n            // x1 = a*x + c*y\n            // y1 = b*x + d*y\n            //      (we can ignore e and f, since pure translations don\"t affect the shape of the ellipse)\n            // --> A1*x1^2 + B1*x1*y1 + C1*y1^2 - det^2 = 0, where\n            const A1 = A * d * d - B * b * d + C * b * b;\n            const B1 = B * (a * d + b * c) - 2 * (A * c * d + C * a * b);\n            const C1 = A * c * c - B * a * c + C * a * a;\n\n            // Unapply newXRot to get back to axis-aligned ellipse equation\n            // x1 = x2*cos(newXRot) - y2*sin(newXRot)\n            // y1 = x2*sin(newXRot) + y2*cos(newXRot)\n            // A1*x1^2 + B1*x1*y1 + C1*y1^2 - det^2 =\n            //   x2^2*(A1*cos(newXRot)^2 + B1*sin(newXRot)*cos(newXRot) + C1*sin(newXRot)^2)\n            //   + x2*y2*(2*(C1 - A1)*sin(newXRot)*cos(newXRot) + B1*(cos(newXRot)^2 - sin(newXRot)^2))\n            //   + y2^2*(A1*sin(newXRot)^2 - B1*sin(newXRot)*cos(newXRot) + C1*cos(newXRot)^2)\n            //   (which must have the same zeroes as)\n            // x2^2/newRX^2 + y2^2/newRY^2 - 1\n            //   (so we have)\n            // 2*(C1 - A1)*sin(newXRot)*cos(newXRot) + B1*(cos(newXRot)^2 - sin(newXRot)^2) = 0\n            // (A1 - C1)*sin(2*newXRot) = B1*cos(2*newXRot)\n            // 2*newXRot = atan2(B1, A1 - C1)\n            const newXRot = ((Math.atan2(B1, A1 - C1) + Math.PI) % Math.PI) / 2;\n            // For any integer n, (atan2(B1, A1 - C1) + n*pi)/2 is a solution to the above; incrementing n just swaps\n            // the x and y radii computed below (since that\"s what rotating an ellipse by pi/2 does).  Choosing the\n            // rotation between 0 and pi/2 eliminates the ambiguity and leads to more predictable output.\n\n            // Finally, we get newRX and newRY from the same-zeroes relationship that gave us newXRot\n            const newSinRot = Math.sin(newXRot);\n            const newCosRot = Math.cos(newXRot);\n\n            command.rX = Math.abs(det) /\n              Math.sqrt(A1 * sqr(newCosRot) + B1 * newSinRot * newCosRot + C1 * sqr(newSinRot));\n            command.rY = Math.abs(det) /\n              Math.sqrt(A1 * sqr(newSinRot) - B1 * newSinRot * newCosRot + C1 * sqr(newCosRot));\n            command.xRot = newXRot * 180 / Math.PI;\n          }\n        }\n      }\n      // sweepFlag needs to be inverted when mirroring shapes\n      // see http://www.itk.ilstu.edu/faculty/javila/SVG/SVG_drawing1/elliptical_curve.htm\n      // m 65,10 a 50,25 0 1 0 50,25\n      // M 65,60 A 50,25 0 1 1 115,35\n      if (\"undefined\" !== typeof command.sweepFlag && 0 > det) {\n        command.sweepFlag = +!command.sweepFlag;\n      }\n      return command;\n    });\n  }\n  export function ROTATE(a: number, x = 0, y = 0) {\n    assertNumbers(a, x, y);\n    const sin = Math.sin(a);\n    const cos = Math.cos(a);\n\n    return MATRIX(cos, sin, -sin, cos, x - x * cos + y * sin, y - x * sin - y * cos);\n  }\n  export function TRANSLATE(dX: number, dY = 0) {\n    assertNumbers(dX, dY);\n    return MATRIX(1, 0, 0, 1, dX, dY);\n  }\n  export function SCALE(dX: number, dY = dX) {\n    assertNumbers(dX, dY);\n    return MATRIX(dX, 0, 0, dY, 0, 0);\n  }\n  export function SKEW_X(a: number) {\n    assertNumbers(a);\n    return MATRIX(1, 0, Math.atan(a), 1, 0, 0);\n  }\n  export function SKEW_Y(a: number) {\n    assertNumbers(a);\n    return MATRIX(1, Math.atan(a), 0, 1, 0, 0);\n  }\n  export function X_AXIS_SYMMETRY(xOffset = 0) {\n    assertNumbers(xOffset);\n    return MATRIX(-1, 0, 0, 1, xOffset, 0);\n  }\n  export function Y_AXIS_SYMMETRY(yOffset = 0) {\n    assertNumbers(yOffset);\n    return MATRIX(1, 0, 0, -1, 0, yOffset);\n  }\n  // Convert arc commands to curve commands\n  export function A_TO_C() {\n    return INFO((command, prevX, prevY) => {\n      if (SVGPathData.ARC === command.type) {\n        return a2c(command, command.relative ? 0 : prevX, command.relative ? 0 : prevY);\n      }\n      return command;\n    });\n  }\n  // @see annotateArcCommand\n  export function ANNOTATE_ARCS() {\n    return INFO((c, x1, y1) => {\n      if (c.relative) {\n        x1 = 0;\n        y1 = 0;\n      }\n      if (SVGPathData.ARC === c.type) {\n        annotateArcCommand(c, x1, y1);\n      }\n      return c;\n    });\n  }\n  export function CLONE() {\n    return (c: SVGCommand) => {\n      const result = {} as SVGCommand;\n      // tslint:disable-next-line\n      for (const key in c) {\n        result[key as keyof SVGCommand] = c[key as keyof SVGCommand];\n      }\n      return result;\n    };\n  }\n  // @see annotateArcCommand\n  export function CALCULATE_BOUNDS() {\n    const clone = CLONE();\n    const toAbs = TO_ABS();\n    const qtToC = QT_TO_C();\n    const normST = NORMALIZE_ST();\n    const f: TransformFunction & {minX: number, maxX: number, minY: number, maxY: number} =\n        INFO((command, prevXAbs, prevYAbs) => {\n      const c = normST(qtToC(toAbs(clone(command))));\n      function fixX(absX: number) {\n        if (absX > f.maxX) { f.maxX = absX; }\n        if (absX < f.minX) { f.minX = absX; }\n      }\n      function fixY(absY: number) {\n        if (absY > f.maxY) { f.maxY = absY; }\n        if (absY < f.minY) { f.minY = absY; }\n      }\n      if (c.type & SVGPathData.DRAWING_COMMANDS) {\n        fixX(prevXAbs);\n        fixY(prevYAbs);\n      }\n      if (c.type & SVGPathData.HORIZ_LINE_TO) {\n        fixX(c.x);\n      }\n      if (c.type & SVGPathData.VERT_LINE_TO) {\n        fixY(c.y);\n      }\n      if (c.type & SVGPathData.LINE_TO) {\n        fixX(c.x);\n        fixY(c.y);\n      }\n      if (c.type & SVGPathData.CURVE_TO) {\n        // add start and end points\n        fixX(c.x);\n        fixY(c.y);\n        const xDerivRoots = bezierRoot(prevXAbs, c.x1, c.x2, c.x);\n\n        for (const derivRoot of xDerivRoots) {\n          if (0 < derivRoot && 1 > derivRoot) {\n            fixX(bezierAt(prevXAbs, c.x1, c.x2, c.x, derivRoot));\n          }\n        }\n        const yDerivRoots = bezierRoot(prevYAbs, c.y1, c.y2, c.y);\n\n        for (const derivRoot of yDerivRoots) {\n          if (0 < derivRoot && 1 > derivRoot) {\n            fixY(bezierAt(prevYAbs, c.y1, c.y2, c.y, derivRoot));\n          }\n        }\n      }\n      if (c.type & SVGPathData.ARC) {\n        // add start and end points\n        fixX(c.x);\n        fixY(c.y);\n        annotateArcCommand(c, prevXAbs, prevYAbs);\n        // p = cos(phi) * xv + sin(phi) * yv\n        // dp = -sin(phi) * xv + cos(phi) * yv = 0\n        const xRotRad = c.xRot / 180 * Math.PI;\n        // points on ellipse for phi = 0° and phi = 90°\n        const x0 = Math.cos(xRotRad) * c.rX;\n        const y0 = Math.sin(xRotRad) * c.rX;\n        const x90 = -Math.sin(xRotRad) * c.rY;\n        const y90 = Math.cos(xRotRad) * c.rY;\n\n        // annotateArcCommand returns phi1 and phi2 such that -180° < phi1 < 180° and phi2 is smaller or greater\n        // depending on the sweep flag. Calculate phiMin, phiMax such that -180° < phiMin < 180° and phiMin < phiMax\n        const [phiMin, phiMax] = c.phi1 < c.phi2 ?\n          [c.phi1, c.phi2] :\n          (-180 > c.phi2 ? [c.phi2 + 360, c.phi1 + 360] : [c.phi2, c.phi1]);\n        const normalizeXiEta = ([xi, eta]: [number, number]) => {\n          const phiRad = Math.atan2(eta, xi);\n          const phi = phiRad * 180 / Math.PI;\n\n          return phi < phiMin ? phi + 360 : phi;\n        };\n        // xi = cos(phi), eta = sin(phi)\n\n        const xDerivRoots = intersectionUnitCircleLine(x90, -x0, 0).map(normalizeXiEta);\n        for (const derivRoot of xDerivRoots) {\n          if (derivRoot > phiMin && derivRoot < phiMax) {\n            fixX(arcAt(c.cX, x0, x90, derivRoot));\n          }\n        }\n\n        const yDerivRoots = intersectionUnitCircleLine(y90, -y0, 0).map(normalizeXiEta);\n        for (const derivRoot of yDerivRoots) {\n          if (derivRoot > phiMin && derivRoot < phiMax) {\n            fixY(arcAt(c.cY, y0, y90, derivRoot));\n          }\n        }\n      }\n      return command;\n    }) as any;\n\n    f.minX = Infinity;\n    f.maxX = -Infinity;\n    f.minY = Infinity;\n    f.maxY = -Infinity;\n    return f;\n  }\n}\n","import { SVGPathDataTransformer } from \"./SVGPathDataTransformer\";\nimport { TransformFunction } from \"./types\";\n\nexport abstract class TransformableSVG {\n  round(x?: number) {\n    return this.transform(SVGPathDataTransformer.ROUND(x));\n  }\n\n  toAbs() {\n    return this.transform(SVGPathDataTransformer.TO_ABS());\n  }\n\n  toRel() {\n    return this.transform(SVGPathDataTransformer.TO_REL());\n  }\n\n  normalizeHVZ(a?: boolean, b?: boolean, c?: boolean) {\n    return this.transform(SVGPathDataTransformer.NORMALIZE_HVZ(a, b, c));\n  }\n\n  normalizeST() {\n    return this.transform(SVGPathDataTransformer.NORMALIZE_ST());\n  }\n\n  qtToC() {\n    return this.transform(SVGPathDataTransformer.QT_TO_C());\n  }\n\n  aToC() {\n    return this.transform(SVGPathDataTransformer.A_TO_C());\n  }\n\n  sanitize(eps?: number) {\n    return this.transform(SVGPathDataTransformer.SANITIZE(eps));\n  }\n\n  translate(x: number, y?: number) {\n    return this.transform(SVGPathDataTransformer.TRANSLATE(x, y));\n  }\n\n  scale(x: number, y?: number) {\n    return this.transform(SVGPathDataTransformer.SCALE(x, y));\n  }\n\n  rotate(a: number, x?: number, y?: number) {\n    return this.transform(SVGPathDataTransformer.ROTATE(a, x, y));\n  }\n\n  matrix(a: number, b: number, c: number, d: number, e: number, f: number) {\n    return this.transform(SVGPathDataTransformer.MATRIX(a, b, c, d, e, f));\n  }\n\n  skewX(a: number) {\n    return this.transform(SVGPathDataTransformer.SKEW_X(a));\n  }\n\n  skewY(a: number) {\n    return this.transform(SVGPathDataTransformer.SKEW_Y(a));\n  }\n\n  xSymmetry(xOffset?: number) {\n    return this.transform(SVGPathDataTransformer.X_AXIS_SYMMETRY(xOffset));\n  }\n\n  ySymmetry(yOffset?: number) {\n    return this.transform(SVGPathDataTransformer.Y_AXIS_SYMMETRY(yOffset));\n  }\n\n  annotateArcs() {\n    return this.transform(SVGPathDataTransformer.ANNOTATE_ARCS());\n  }\n\n  abstract transform(transformFunction: TransformFunction): this;\n}\n","// Parse SVG PathData\n// http://www.w3.org/TR/SVG/paths.html#PathDataBNF\nimport { COMMAND_ARG_COUNTS, SVGPathData } from \"./SVGPathData\";\nimport { TransformableSVG } from \"./TransformableSVG\";\nimport { SVGCommand, TransformFunction } from \"./types\";\n// Private consts : Char groups\nconst isWhiteSpace = (c: string) =>\n  \" \" === c || \"\\t\" === c || \"\\r\" === c || \"\\n\" === c;\nconst isDigit = (c: string) =>\n  \"0\".charCodeAt(0) <= c.charCodeAt(0) && c.charCodeAt(0) <= \"9\".charCodeAt(0);\nconst COMMANDS = \"mMzZlLhHvVcCsSqQtTaA\";\n\nexport class SVGPathDataParser extends TransformableSVG {\n  private curNumber: string = \"\";\n  private curCommandType: SVGCommand[\"type\"] | -1 = -1;\n  private curCommandRelative = false;\n  private canParseCommandOrComma = true;\n  private curNumberHasExp = false;\n  private curNumberHasExpDigits = false;\n  private curNumberHasDecimal = false;\n  private curArgs: number[] = [];\n\n  constructor() {\n    super();\n  }\n\n  finish(commands: SVGCommand[] = []) {\n    this.parse(\" \", commands);\n    // Adding residual command\n    if (0 !== this.curArgs.length || !this.canParseCommandOrComma) {\n      throw new SyntaxError(\"Unterminated command at the path end.\");\n    }\n    return commands;\n  }\n\n  parse(str: string, commands: SVGCommand[] = []) {\n    const finishCommand = (command: SVGCommand) => {\n      commands.push(command);\n      this.curArgs.length = 0;\n      this.canParseCommandOrComma = true;\n    };\n\n    for (let i = 0; i < str.length; i++) {\n      const c = str[i];\n      // White spaces parsing\n      const isAArcFlag = this.curCommandType === SVGPathData.ARC &&\n        (this.curArgs.length === 3 || this.curArgs.length === 4) &&\n        this.curNumber.length === 1 &&\n        (this.curNumber === \"0\" || this.curNumber === \"1\");\n      const isEndingDigit = isDigit(c) && (\n        (this.curNumber === \"0\" && c === \"0\") ||\n        isAArcFlag\n      );\n\n      if (\n        isDigit(c) &&\n        !isEndingDigit\n      ) {\n        this.curNumber += c;\n        this.curNumberHasExpDigits = this.curNumberHasExp;\n        continue;\n      }\n      if (\"e\" === c || \"E\" === c) {\n        this.curNumber += c;\n        this.curNumberHasExp = true;\n        continue;\n      }\n      if (\n        (\"-\" === c || \"+\" === c) &&\n        this.curNumberHasExp &&\n        !this.curNumberHasExpDigits\n      ) {\n        this.curNumber += c;\n        continue;\n      }\n      // if we already have a \".\", it means we are starting a new number\n      if (\".\" === c && !this.curNumberHasExp && !this.curNumberHasDecimal && !isAArcFlag) {\n        this.curNumber += c;\n        this.curNumberHasDecimal = true;\n        continue;\n      }\n\n      // New number\n      if (this.curNumber && -1 !== this.curCommandType) {\n        const val = Number(this.curNumber);\n        if (isNaN(val)) {\n          throw new SyntaxError(`Invalid number ending at ${i}`);\n        }\n        if (this.curCommandType === SVGPathData.ARC) {\n          if (0 === this.curArgs.length || 1 === this.curArgs.length) {\n            if (0 > val) {\n              throw new SyntaxError(\n                `Expected positive number, got \"${val}\" at index \"${i}\"`,\n              );\n            }\n          } else if (3 === this.curArgs.length || 4 === this.curArgs.length) {\n            if (\"0\" !== this.curNumber && \"1\" !== this.curNumber) {\n              throw new SyntaxError(\n                `Expected a flag, got \"${this.curNumber}\" at index \"${i}\"`,\n              );\n            }\n          }\n        }\n        this.curArgs.push(val);\n        if (this.curArgs.length === COMMAND_ARG_COUNTS[this.curCommandType]) {\n          if (SVGPathData.HORIZ_LINE_TO === this.curCommandType) {\n            finishCommand({\n              type: SVGPathData.HORIZ_LINE_TO,\n              relative: this.curCommandRelative,\n              x: val,\n            });\n          } else if (SVGPathData.VERT_LINE_TO === this.curCommandType) {\n            finishCommand({\n              type: SVGPathData.VERT_LINE_TO,\n              relative: this.curCommandRelative,\n              y: val,\n            });\n            // Move to / line to / smooth quadratic curve to commands (x, y)\n          } else if (\n            this.curCommandType === SVGPathData.MOVE_TO ||\n            this.curCommandType === SVGPathData.LINE_TO ||\n            this.curCommandType === SVGPathData.SMOOTH_QUAD_TO\n          ) {\n            finishCommand({\n              type: this.curCommandType,\n              relative: this.curCommandRelative,\n              x: this.curArgs[0],\n              y: this.curArgs[1],\n            } as SVGCommand);\n            // Switch to line to state\n            if (SVGPathData.MOVE_TO === this.curCommandType) {\n              this.curCommandType = SVGPathData.LINE_TO;\n            }\n          } else if (this.curCommandType === SVGPathData.CURVE_TO) {\n            finishCommand({\n              type: SVGPathData.CURVE_TO,\n              relative: this.curCommandRelative,\n              x1: this.curArgs[0],\n              y1: this.curArgs[1],\n              x2: this.curArgs[2],\n              y2: this.curArgs[3],\n              x: this.curArgs[4],\n              y: this.curArgs[5],\n            });\n          } else if (this.curCommandType === SVGPathData.SMOOTH_CURVE_TO) {\n            finishCommand({\n              type: SVGPathData.SMOOTH_CURVE_TO,\n              relative: this.curCommandRelative,\n              x2: this.curArgs[0],\n              y2: this.curArgs[1],\n              x: this.curArgs[2],\n              y: this.curArgs[3],\n            });\n          } else if (this.curCommandType === SVGPathData.QUAD_TO) {\n            finishCommand({\n              type: SVGPathData.QUAD_TO,\n              relative: this.curCommandRelative,\n              x1: this.curArgs[0],\n              y1: this.curArgs[1],\n              x: this.curArgs[2],\n              y: this.curArgs[3],\n            });\n          } else if (this.curCommandType === SVGPathData.ARC) {\n            finishCommand({\n              type: SVGPathData.ARC,\n              relative: this.curCommandRelative,\n              rX: this.curArgs[0],\n              rY: this.curArgs[1],\n              xRot: this.curArgs[2],\n              lArcFlag: this.curArgs[3] as 0 | 1,\n              sweepFlag: this.curArgs[4] as 0 | 1,\n              x: this.curArgs[5],\n              y: this.curArgs[6],\n            });\n          }\n        }\n        this.curNumber = \"\";\n        this.curNumberHasExpDigits = false;\n        this.curNumberHasExp = false;\n        this.curNumberHasDecimal = false;\n        this.canParseCommandOrComma = true;\n      }\n      // Continue if a white space or a comma was detected\n      if (isWhiteSpace(c)) {\n        continue;\n      }\n      if (\",\" === c && this.canParseCommandOrComma) {\n        // L 0,0, H is not valid:\n        this.canParseCommandOrComma = false;\n        continue;\n      }\n      // if a sign is detected, then parse the new number\n      if (\"+\" === c || \"-\" === c || \".\" === c) {\n        this.curNumber = c;\n        this.curNumberHasDecimal = \".\" === c;\n        continue;\n      }\n      // if a 0 is detected, then parse the new number\n      if (isEndingDigit) {\n        this.curNumber = c;\n        this.curNumberHasDecimal = false;\n        continue;\n      }\n\n      // Adding residual command\n      if (0 !== this.curArgs.length) {\n        throw new SyntaxError(`Unterminated command at index ${i}.`);\n      }\n      if (!this.canParseCommandOrComma) {\n        throw new SyntaxError(\n          `Unexpected character \"${c}\" at index ${i}. Command cannot follow comma`,\n        );\n      }\n      this.canParseCommandOrComma = false;\n      // Detecting the next command\n      if (\"z\" === c || \"Z\" === c) {\n        commands.push({\n          type: SVGPathData.CLOSE_PATH,\n        });\n        this.canParseCommandOrComma = true;\n        this.curCommandType = -1;\n        continue;\n        // Horizontal move to command\n      } else if (\"h\" === c || \"H\" === c) {\n        this.curCommandType = SVGPathData.HORIZ_LINE_TO;\n        this.curCommandRelative = \"h\" === c;\n        // Vertical move to command\n      } else if (\"v\" === c || \"V\" === c) {\n        this.curCommandType = SVGPathData.VERT_LINE_TO;\n        this.curCommandRelative = \"v\" === c;\n        // Move to command\n      } else if (\"m\" === c || \"M\" === c) {\n        this.curCommandType = SVGPathData.MOVE_TO;\n        this.curCommandRelative = \"m\" === c;\n        // Line to command\n      } else if (\"l\" === c || \"L\" === c) {\n        this.curCommandType = SVGPathData.LINE_TO;\n        this.curCommandRelative = \"l\" === c;\n        // Curve to command\n      } else if (\"c\" === c || \"C\" === c) {\n        this.curCommandType = SVGPathData.CURVE_TO;\n        this.curCommandRelative = \"c\" === c;\n        // Smooth curve to command\n      } else if (\"s\" === c || \"S\" === c) {\n        this.curCommandType = SVGPathData.SMOOTH_CURVE_TO;\n        this.curCommandRelative = \"s\" === c;\n        // Quadratic bezier curve to command\n      } else if (\"q\" === c || \"Q\" === c) {\n        this.curCommandType = SVGPathData.QUAD_TO;\n        this.curCommandRelative = \"q\" === c;\n        // Smooth quadratic bezier curve to command\n      } else if (\"t\" === c || \"T\" === c) {\n        this.curCommandType = SVGPathData.SMOOTH_QUAD_TO;\n        this.curCommandRelative = \"t\" === c;\n        // Elliptic arc command\n      } else if (\"a\" === c || \"A\" === c) {\n        this.curCommandType = SVGPathData.ARC;\n        this.curCommandRelative = \"a\" === c;\n      } else {\n        throw new SyntaxError(`Unexpected character \"${c}\" at index ${i}.`);\n      }\n    }\n    return commands;\n  }\n  /**\n   * Return a wrapper around this parser which applies the transformation on parsed commands.\n   */\n  transform(transform: TransformFunction) {\n    const result = Object.create(this, {\n      parse: {\n        value(chunk: string, commands: SVGCommand[] = []) {\n          const parsedCommands = Object.getPrototypeOf(this).parse.call(\n            this,\n            chunk,\n          );\n          for (const c of parsedCommands) {\n            const cT = transform(c);\n            if (Array.isArray(cT)) {\n              commands.push(...cT);\n            } else {\n              commands.push(cT);\n            }\n          }\n          return commands;\n        },\n      },\n    });\n    return result as this;\n  }\n}\n","import { encodeSVGPath } from \"./SVGPathDataEncoder\";\nimport { SVGPathDataParser } from \"./SVGPathDataParser\";\nimport { SVGPathDataTransformer } from \"./SVGPathDataTransformer\";\nimport { TransformableSVG } from \"./TransformableSVG\";\nimport { SVGCommand } from \"./types\";\n\nexport class SVGPathData extends TransformableSVG {\n  commands: SVGCommand[];\n  constructor(content: string | SVGCommand[]) {\n    super();\n    if (\"string\" === typeof content) {\n      this.commands = SVGPathData.parse(content);\n    } else {\n      this.commands = content;\n    }\n  }\n\n  encode() {\n    return SVGPathData.encode(this.commands);\n  }\n\n  getBounds() {\n    const boundsTransform = SVGPathDataTransformer.CALCULATE_BOUNDS();\n\n    this.transform(boundsTransform);\n    return boundsTransform;\n  }\n\n  transform(\n    transformFunction: (input: SVGCommand) => SVGCommand | SVGCommand[],\n  ) {\n    const newCommands = [];\n\n    for (const command of this.commands) {\n      const transformedCommand = transformFunction(command);\n\n      if (Array.isArray(transformedCommand)) {\n        newCommands.push(...transformedCommand);\n      } else {\n        newCommands.push(transformedCommand);\n      }\n    }\n    this.commands = newCommands;\n    return this;\n  }\n\n  static encode(commands: SVGCommand[]) {\n    return encodeSVGPath(commands);\n      }\n\n  static parse(path: string) {\n    const parser = new SVGPathDataParser();\n    const commands: SVGCommand[] = [];\n    parser.parse(path, commands);\n    parser.finish(commands);\n    return commands;\n  }\n\n  static readonly CLOSE_PATH: 1 = 1;\n  static readonly MOVE_TO: 2 = 2;\n  static readonly HORIZ_LINE_TO: 4 = 4;\n  static readonly VERT_LINE_TO: 8 = 8;\n  static readonly LINE_TO: 16 = 16;\n  static readonly CURVE_TO: 32 = 32;\n  static readonly SMOOTH_CURVE_TO: 64 = 64;\n  static readonly QUAD_TO: 128 = 128;\n  static readonly SMOOTH_QUAD_TO: 256 = 256;\n  static readonly ARC: 512 = 512;\n  static readonly LINE_COMMANDS = SVGPathData.LINE_TO | SVGPathData.HORIZ_LINE_TO | SVGPathData.VERT_LINE_TO;\n  static readonly DRAWING_COMMANDS = SVGPathData.HORIZ_LINE_TO | SVGPathData.VERT_LINE_TO | SVGPathData.LINE_TO |\n  SVGPathData.CURVE_TO | SVGPathData.SMOOTH_CURVE_TO | SVGPathData.QUAD_TO |\n  SVGPathData.SMOOTH_QUAD_TO | SVGPathData.ARC;\n}\n\nexport const COMMAND_ARG_COUNTS = {\n    [SVGPathData.MOVE_TO]: 2,\n    [SVGPathData.LINE_TO]: 2,\n    [SVGPathData.HORIZ_LINE_TO]: 1,\n    [SVGPathData.VERT_LINE_TO]: 1,\n    [SVGPathData.CLOSE_PATH]: 0,\n    [SVGPathData.QUAD_TO]: 4,\n    [SVGPathData.SMOOTH_QUAD_TO]: 2,\n    [SVGPathData.CURVE_TO]: 6,\n    [SVGPathData.SMOOTH_CURVE_TO]: 4,\n    [SVGPathData.ARC]: 7,\n};\n\nexport {encodeSVGPath} from \"./SVGPathDataEncoder\";\nexport {SVGPathDataParser} from \"./SVGPathDataParser\";\nexport {SVGPathDataTransformer} from \"./SVGPathDataTransformer\";\n"]},"metadata":{},"sourceType":"module"}