{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"C:/Users/Gianluca/Documents/itWork/Projects/cvApps/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\n\nvar _slicedToArray = require(\"C:/Users/Gianluca/Documents/itWork/Projects/cvApps/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveStyle = toHaveStyle;\n\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\n\nvar _utils = require(\"./utils\");\n\nfunction getStyleDeclaration(document, css) {\n  var styles = {}; // The next block is necessary to normalize colors\n\n  var copy = document.createElement('div');\n  Object.keys(css).forEach(function (property) {\n    copy.style[property] = css[property];\n    styles[property] = copy.style[property];\n  });\n  return styles;\n}\n\nfunction isSubset(styles, computedStyle) {\n  return !!Object.keys(styles).length && Object.entries(styles).every(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        prop = _ref2[0],\n        value = _ref2[1];\n\n    return computedStyle[prop] === value || computedStyle.getPropertyValue(prop.toLowerCase()) === value;\n  });\n}\n\nfunction printoutStyles(styles) {\n  return Object.keys(styles).sort().map(function (prop) {\n    return \"\".concat(prop, \": \").concat(styles[prop], \";\");\n  }).join('\\n');\n} // Highlights only style rules that were expected but were not found in the\n// received computed styles\n\n\nfunction expectedDiff(diffFn, expected, computedStyles) {\n  var received = Array.from(computedStyles).filter(function (prop) {\n    return expected[prop] !== undefined;\n  }).reduce(function (obj, prop) {\n    return Object.assign(obj, _defineProperty({}, prop, computedStyles.getPropertyValue(prop)));\n  }, {});\n  var diffOutput = diffFn(printoutStyles(expected), printoutStyles(received)); // Remove the \"+ Received\" annotation because this is a one-way diff\n\n  return diffOutput.replace(\"\".concat(_chalk.default.red('+ Received'), \"\\n\"), '');\n}\n\nfunction toHaveStyle(htmlElement, css) {\n  var _this = this;\n\n  (0, _utils.checkHtmlElement)(htmlElement, toHaveStyle, this);\n  var parsedCSS = typeof css === 'object' ? css : (0, _utils.parseCSS)(css, toHaveStyle, this);\n  var getComputedStyle = htmlElement.ownerDocument.defaultView.getComputedStyle;\n  var expected = getStyleDeclaration(htmlElement.ownerDocument, parsedCSS);\n  var received = getComputedStyle(htmlElement);\n  return {\n    pass: isSubset(expected, received),\n    message: function message() {\n      var matcher = \"\".concat(_this.isNot ? '.not' : '', \".toHaveStyle\");\n      return [_this.utils.matcherHint(matcher, 'element', ''), expectedDiff(_this.utils.diff, expected, received)].join('\\n\\n');\n    }\n  };\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","toHaveStyle","_chalk","_utils","getStyleDeclaration","document","css","styles","copy","createElement","keys","forEach","property","style","isSubset","computedStyle","length","entries","every","prop","getPropertyValue","toLowerCase","printoutStyles","sort","map","join","expectedDiff","diffFn","expected","computedStyles","received","Array","from","filter","undefined","reduce","obj","assign","diffOutput","replace","default","red","htmlElement","checkHtmlElement","parsedCSS","parseCSS","getComputedStyle","ownerDocument","defaultView","pass","message","matcher","isNot","utils","matcherHint","diff"],"sources":["C:/Users/Gianluca/Documents/itWork/Projects/cvApps/node_modules/@testing-library/jest-dom/dist/to-have-style.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toHaveStyle = toHaveStyle;\n\nvar _chalk = _interopRequireDefault(require(\"chalk\"));\n\nvar _utils = require(\"./utils\");\n\nfunction getStyleDeclaration(document, css) {\n  const styles = {}; // The next block is necessary to normalize colors\n\n  const copy = document.createElement('div');\n  Object.keys(css).forEach(property => {\n    copy.style[property] = css[property];\n    styles[property] = copy.style[property];\n  });\n  return styles;\n}\n\nfunction isSubset(styles, computedStyle) {\n  return !!Object.keys(styles).length && Object.entries(styles).every(([prop, value]) => computedStyle[prop] === value || computedStyle.getPropertyValue(prop.toLowerCase()) === value);\n}\n\nfunction printoutStyles(styles) {\n  return Object.keys(styles).sort().map(prop => `${prop}: ${styles[prop]};`).join('\\n');\n} // Highlights only style rules that were expected but were not found in the\n// received computed styles\n\n\nfunction expectedDiff(diffFn, expected, computedStyles) {\n  const received = Array.from(computedStyles).filter(prop => expected[prop] !== undefined).reduce((obj, prop) => Object.assign(obj, {\n    [prop]: computedStyles.getPropertyValue(prop)\n  }), {});\n  const diffOutput = diffFn(printoutStyles(expected), printoutStyles(received)); // Remove the \"+ Received\" annotation because this is a one-way diff\n\n  return diffOutput.replace(`${_chalk.default.red('+ Received')}\\n`, '');\n}\n\nfunction toHaveStyle(htmlElement, css) {\n  (0, _utils.checkHtmlElement)(htmlElement, toHaveStyle, this);\n  const parsedCSS = typeof css === 'object' ? css : (0, _utils.parseCSS)(css, toHaveStyle, this);\n  const {\n    getComputedStyle\n  } = htmlElement.ownerDocument.defaultView;\n  const expected = getStyleDeclaration(htmlElement.ownerDocument, parsedCSS);\n  const received = getComputedStyle(htmlElement);\n  return {\n    pass: isSubset(expected, received),\n    message: () => {\n      const matcher = `${this.isNot ? '.not' : ''}.toHaveStyle`;\n      return [this.utils.matcherHint(matcher, 'element', ''), expectedDiff(this.utils.diff, expected, received)].join('\\n\\n');\n    }\n  };\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}